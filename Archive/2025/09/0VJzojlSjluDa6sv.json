{
  "active": true,
  "connections": {
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Stop Typing": {
      "main": [
        [
          {
            "node": "Send a text message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Seen": {
      "main": [
        [
          {
            "node": "Start Typing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "WAHA Trigger": {
      "main": [
        [],
        [
          {
            "node": "Send Seen",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Start Typing": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait2": {
      "main": [
        [
          {
            "node": "Stop Typing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Catalogue1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Catalogue2": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Commande": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-09-28T07:30:05.280Z",
  "id": "0VJzojlSjluDa6sv",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "OSM WAHA",
  "nodes": [
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('WAHA Trigger').item.json.payload.media._data.body }}",
        "options": {
          "systemMessage": "=```\nTu es le conseiller commercial attitr√© et passionn√© de la boutique **OSM Business**, un expert en produits et services tech.\n\n### üéØ Mission Principale\nGuider le client de la d√©couverte √† la finalisation de la commande avec expertise et enthousiasme. Tes 3 piliers sont : **Vente Persuasive**, **Gestion de Commandes A-Z**, et **Expertise Technique** (r√©ponses pr√©cises).\n\n---\n\n### ‚ö†Ô∏è Protocole de S√©curit√© et Priorit√© des Donn√©es (R√àGLES D'OR)\n1. **Z√âRO INVENTION.** Appuie-toi *exclusivement* sur les donn√©es r√©cup√©r√©es via les outils.\n2. **Consultation Obligatoire.** **Avant chaque r√©ponse**, interroge syst√©matiquement les outils disponibles.\n3. Si une donn√©e n‚Äôest **pas disponible** : indique-le poliment sans t'excuser (\"Cette information n‚Äôest pas accessible pour le moment. Je peux cependant vous orienter vers...\").\n4. **√âvite toute mention de ton statut d'IA.** Tu es un conseiller OSM.\n\n---\n\n### üó£Ô∏è Ton et Communication\n* **Expert et Enthousiaste** : Ton langage est celui d'un passionn√© de tech, utilisant un vocabulaire technique pr√©cis.\n* **Bref et Engag√©** : R√©ponds de mani√®re **concise (max 3-4 phrases)**. Utilise le **formatage (gras, listes)** pour mettre les points importants en √©vidence.\n* **Personnalis√©** : Commence toujours par une salutation chaleureuse (ex: \"Bonjour [Nom] ! Ravi de vous voir. Qu'est-ce qui vous am√®ne chez nous aujourd'hui ?\").\n* **√âmojis Strat√©giques** : Utilise-les pour accentuer (ex: `üöÄ` pour la performance, `ü§ù` pour la confirmation).\n\n---\n\n### üß∞ Outils et Utilisation\n1. **Catalogue1 / Catalogue2 / InfoGene :**\n¬† ¬†- Pr√©sente un maximum de **3 produits √† la fois** (Nom, prix, avantages, usage, √©tat).\n¬† ¬†- Incite √† la suite (\"Un mod√®le vous int√©resse-t-il plus particuli√®rement ?\").\n2. **Commande :**\n¬† ¬†- G√®re Enregistrement/Modification/Annulation.\n¬† ¬†- **Confirmation Claire Obligatoire** avant toute action.\n¬† ¬†- Confirme le r√©sultat de fa√ßon structur√©e apr√®s chaque op√©ration.\n3. **InfoGene :**\n¬† ¬†- Utilise pour toutes les questions de services (r√©paration, livraison, garantie, etc.).\n\n---\n\n### üß† Guidance Client et Anticipation\n* **Gestion Vague/Partielle** : Si l‚Äôintention est vague (ex : \"je cherche un ordi\"), propose imm√©diatement un petit √©chantillon de **3 produits pertinents** de cette cat√©gorie.\n* **Structure de la R√©ponse Vague** : 1. Suggestion Pertinente (liste courte) ; 2. **Question de Pr√©cision** pour affiner le besoin (ex: \"Quel type recherchez-vous ? Performance ou autonomie ?\").\n* **Incitations √† l'action** : Sugg√®re des actions (üõí Ajouter, üì¶ Commander) **au bon moment, sans insister**. Utilise une formule naturelle et enthousiaste (ex: \"Si le c≈ìur vous en dit, on peut finaliser...\").\n* **Maintien du Contexte** : Ne repropose jamais les m√™mes produits si ce n'est pas demand√© et garde toujours le fil des besoins exprim√©s.\n\nLocalisation : Arafat, en face du portail principal de l'Universit√© de Parakou.\n```"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        384,
        -32
      ],
      "id": "421225bb-e8d4-46dc-9dba-d24f14949200",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('WAHA Trigger').item.json.payload.from }}",
        "contextWindowLength": 15
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        336,
        240
      ],
      "id": "d4b6dad2-f2ed-41a0-b9b0-b8f82594b665",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        208,
        208
      ],
      "id": "2dc2c7cc-c61c-4f28-9b82-53561a455f59",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "GcskRhAK7yAtkE01",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-waha.wahaTrigger",
      "typeVersion": 202411,
      "position": [
        -464,
        -368
      ],
      "id": "11e66c7b-07b0-49e6-8c80-e3482a0f8f71",
      "name": "WAHA Trigger",
      "webhookId": "253967de-ddba-4f1e-a7b9-e60cba45c5c4"
    },
    {
      "parameters": {
        "resource": "Chatting",
        "operation": "Send Text",
        "session": "={{ $('WAHA Trigger').item.json.session }}",
        "chatId": "={{ $('WAHA Trigger').item.json.payload.media.from }}",
        "reply_to": "=",
        "text": "={{ $('AI Agent').item.json.output }}",
        "requestOptions": {}
      },
      "type": "n8n-nodes-waha.WAHA",
      "typeVersion": 202411,
      "position": [
        1168,
        -32
      ],
      "id": "0e4129a2-09ea-43bb-9f1a-9db866467f68",
      "name": "Send a text message",
      "credentials": {
        "wahaApi": {
          "id": "9zRsx8TKsrweOboS",
          "name": "WAHA account"
        }
      }
    },
    {
      "parameters": {
        "resource": "Chatting",
        "operation": "Stop Typing",
        "session": "={{ $('WAHA Trigger').item.json.session }}",
        "chatId": "={{ $('WAHA Trigger').item.json.payload.from }}",
        "requestOptions": {}
      },
      "type": "n8n-nodes-waha.WAHA",
      "typeVersion": 202411,
      "position": [
        928,
        -32
      ],
      "id": "d91305a1-6f8f-436e-b82c-f96d64ef5c0e",
      "name": "Stop Typing",
      "credentials": {
        "wahaApi": {
          "id": "9zRsx8TKsrweOboS",
          "name": "WAHA account"
        }
      }
    },
    {
      "parameters": {
        "resource": "Chatting",
        "operation": "Send Seen",
        "participant": "=",
        "requestOptions": {}
      },
      "type": "n8n-nodes-waha.WAHA",
      "typeVersion": 202411,
      "position": [
        -48,
        -32
      ],
      "id": "79b681a4-c1fb-4f09-a5f3-7ddfe5f98d51",
      "name": "Send Seen",
      "credentials": {
        "wahaApi": {
          "id": "9zRsx8TKsrweOboS",
          "name": "WAHA account"
        }
      }
    },
    {
      "parameters": {
        "resource": "Chatting",
        "operation": "Start Typing",
        "session": "={{ $('WAHA Trigger').item.json.session }}",
        "chatId": "={{ $('WAHA Trigger').item.json.payload.media._data.from }}",
        "requestOptions": {}
      },
      "type": "n8n-nodes-waha.WAHA",
      "typeVersion": 202411,
      "position": [
        160,
        -32
      ],
      "id": "b91a2e82-719b-4cf6-af69-362518078388",
      "name": "Start Typing",
      "credentials": {
        "wahaApi": {
          "id": "9zRsx8TKsrweOboS",
          "name": "WAHA account"
        }
      }
    },
    {
      "parameters": {
        "amount": 7
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        720,
        -32
      ],
      "id": "cae9b0ba-9b7b-44b7-9ea3-dfe1bcaa7dea",
      "name": "Wait2",
      "webhookId": "6263cdaa-68b8-44a0-ab39-4dff883ea4af"
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "={\n  \"name\": \"Commande\",\n  \"description\": \"Outil de gestion du cycle de vie des commandes clients chez OSM Business. Il permet d‚Äôenregistrer, modifier ou annuler une commande. Champs requis : productId, actionType (enregistrement, modification, annulation), customerName, modificationDetails, reason. L‚Äôagent doit toujours demander une confirmation avant d‚Äôex√©cuter l‚Äôaction, puis confirmer √† l‚Äôutilisateur le succ√®s de l‚Äôop√©ration une fois r√©alis√©e.\"\n}\n",
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU",
          "mode": "list",
          "cachedResultName": "OSM BUSINESS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 982683136,
          "mode": "list",
          "cachedResultName": "Commande",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU/edit#gid=982683136"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "ID": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('ID__using_to_match_', ``, 'string') }}",
            "Date": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Date', ``, 'string') }}",
            "Adresse de livraison": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Adresse_de_livraison', ``, 'string') }}",
            "Nom ": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Nom_', ``, 'string') }}",
            "Contact": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Contact', ``, 'string') }}",
            "Detail_commande": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Detail_commande', ``, 'string') }}",
            "Prix_total": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prix_total', ``, 'string') }}"
          },
          "matchingColumns": [
            "ID"
          ],
          "schema": [
            {
              "id": "ID",
              "displayName": "ID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Nom ",
              "displayName": "Nom ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Contact",
              "displayName": "Contact",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Adresse de livraison",
              "displayName": "Adresse de livraison",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Detail_commande",
              "displayName": "Detail_commande",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Prix_total",
              "displayName": "Prix_total",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "cellFormat": "RAW"
        }
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        752,
        240
      ],
      "id": "32324e31-1d3a-4e42-81ac-40b58d1c66d5",
      "name": "Commande",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "KfenOzqIBushaAiR",
          "name": "Botbj"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "={\n  \"name\": \"Catalogue1\",\n  \"description\": \"Base de donn√©es des produits √©lectroniques disponibles chez OSM Business, √† l‚Äôexception des ordinateurs. Elle contient les fiches compl√®tes des smartphones, tablettes, accessoires, et autres articles. Chaque fiche inclut : le nom du produit, la cat√©gorie, le prix unitaire, et une image si disponible. Utilise cet outil pour pr√©senter, recommander ou comparer ces produits en fonction des besoins du client.\"\n}\n",
        "documentId": {
          "__rl": true,
          "value": "13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU",
          "mode": "list",
          "cachedResultName": "OSM BUSINESS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1149727683,
          "mode": "list",
          "cachedResultName": "Catalogue1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU/edit#gid=1149727683"
        },
        "combineFilters": "OR",
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        464,
        240
      ],
      "id": "1afe770f-53ad-4ff8-919e-774606135307",
      "name": "Catalogue1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "KfenOzqIBushaAiR",
          "name": "Botbj"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "={\n  \"name\": \"Catalogue2\",\n  \"description\": \"Base de donn√©es d√©di√©e exclusivement aux ordinateurs vendus par OSM Business. Chaque entr√©e contient : nom du mod√®le,la marque, sp√©cifications techniques (RAM, processeur, stockage, etc.), prix, l'√©tat et image (si disponible). Utilise cet outil pour r√©pondre aux questions sur les ordinateurs ou recommander un mod√®le adapt√© aux besoins du client.\"\n}\n",
        "documentId": {
          "__rl": true,
          "value": "13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU",
          "mode": "list",
          "cachedResultName": "OSM BUSINESS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 175018694,
          "mode": "list",
          "cachedResultName": "Catalogue2",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU/edit#gid=175018694"
        },
        "combineFilters": "OR",
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        608,
        240
      ],
      "id": "9220ac0c-6a72-4c03-a46a-6cc5d1ecc6ae",
      "name": "Catalogue2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "KfenOzqIBushaAiR",
          "name": "Botbj"
        }
      }
    }
  ],
  "pinData": {},
  "repo_name": "n8n-back-up",
  "repo_owner": "BotBj",
  "repo_path": "Archive/",
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "createdAt": "2025-09-28T07:30:05.282Z",
      "updatedAt": "2025-09-28T07:30:05.282Z",
      "role": "workflow:owner",
      "workflowId": "0VJzojlSjluDa6sv",
      "projectId": "rtwT9HNaRzX30hVn"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 1,
  "updatedAt": "2025-09-28T11:36:08.000Z",
  "versionId": "0997307a-d8a3-45da-971f-b20e48336e63"
}{
  "active": true,
  "connections": {
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Stop Typing": {
      "main": [
        [
          {
            "node": "Send a text message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Seen": {
      "main": [
        [
          {
            "node": "Start Typing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "WAHA Trigger": {
      "main": [
        [],
        [
          {
            "node": "Send Seen",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Start Typing": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait2": {
      "main": [
        [
          {
            "node": "Stop Typing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Catalogue1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Catalogue2": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Commande": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-09-28T07:30:05.280Z",
  "id": "0VJzojlSjluDa6sv",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "OSM WAHA",
  "nodes": [
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('WAHA Trigger').item.json.payload.media._data.body }}",
        "options": {
          "systemMessage": "=```\nTu es le conseiller commercial attitr√© et passionn√© de la boutique **OSM Business**, un expert en produits et services tech.\n\n### üéØ Mission Principale\nGuider le client de la d√©couverte √† la finalisation de la commande avec expertise et enthousiasme. Tes 3 piliers sont : **Vente Persuasive**, **Gestion de Commandes A-Z**, et **Expertise Technique** (r√©ponses pr√©cises).\n\n---\n\n### ‚ö†Ô∏è Protocole de S√©curit√© et Priorit√© des Donn√©es (R√àGLES D'OR)\n1. **Z√âRO INVENTION.** Appuie-toi *exclusivement* sur les donn√©es r√©cup√©r√©es via les outils.\n2. **Consultation Obligatoire.** **Avant chaque r√©ponse**, interroge syst√©matiquement les outils disponibles.\n3. Si une donn√©e n‚Äôest **pas disponible** : indique-le poliment sans t'excuser (\"Cette information n‚Äôest pas accessible pour le moment. Je peux cependant vous orienter vers...\").\n4. **√âvite toute mention de ton statut d'IA.** Tu es un conseiller OSM.\n\n---\n\n### üó£Ô∏è Ton et Communication\n* **Expert et Enthousiaste** : Ton langage est celui d'un passionn√© de tech, utilisant un vocabulaire technique pr√©cis.\n* **Bref et Engag√©** : R√©ponds de mani√®re **concise (max 3-4 phrases)**. Utilise le **formatage (gras, listes)** pour mettre les points importants en √©vidence.\n* **Personnalis√©** : Commence toujours par une salutation chaleureuse (ex: \"Bonjour [Nom] ! Ravi de vous voir. Qu'est-ce qui vous am√®ne chez nous aujourd'hui ?\").\n* **√âmojis Strat√©giques** : Utilise-les pour accentuer (ex: `üöÄ` pour la performance, `ü§ù` pour la confirmation).\n\n---\n\n### üß∞ Outils et Utilisation\n1. **Catalogue1 / Catalogue2 / InfoGene :**\n¬† ¬†- Pr√©sente un maximum de **3 produits √† la fois** (Nom, prix, avantages, usage, √©tat).\n¬† ¬†- Incite √† la suite (\"Un mod√®le vous int√©resse-t-il plus particuli√®rement ?\").\n2. **Commande :**\n¬† ¬†- G√®re Enregistrement/Modification/Annulation.\n¬† ¬†- **Confirmation Claire Obligatoire** avant toute action.\n¬† ¬†- Confirme le r√©sultat de fa√ßon structur√©e apr√®s chaque op√©ration.\n3. **InfoGene :**\n¬† ¬†- Utilise pour toutes les questions de services (r√©paration, livraison, garantie, etc.).\n\n---\n\n### üß† Guidance Client et Anticipation\n* **Gestion Vague/Partielle** : Si l‚Äôintention est vague (ex : \"je cherche un ordi\"), propose imm√©diatement un petit √©chantillon de **3 produits pertinents** de cette cat√©gorie.\n* **Structure de la R√©ponse Vague** : 1. Suggestion Pertinente (liste courte) ; 2. **Question de Pr√©cision** pour affiner le besoin (ex: \"Quel type recherchez-vous ? Performance ou autonomie ?\").\n* **Incitations √† l'action** : Sugg√®re des actions (üõí Ajouter, üì¶ Commander) **au bon moment, sans insister**. Utilise une formule naturelle et enthousiaste (ex: \"Si le c≈ìur vous en dit, on peut finaliser...\").\n* **Maintien du Contexte** : Ne repropose jamais les m√™mes produits si ce n'est pas demand√© et garde toujours le fil des besoins exprim√©s.\n\nLocalisation : Arafat, en face du portail principal de l'Universit√© de Parakou.\n```"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        384,
        -32
      ],
      "id": "421225bb-e8d4-46dc-9dba-d24f14949200",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('WAHA Trigger').item.json.payload.from }}",
        "contextWindowLength": 15
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        336,
        240
      ],
      "id": "d4b6dad2-f2ed-41a0-b9b0-b8f82594b665",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        208,
        208
      ],
      "id": "2dc2c7cc-c61c-4f28-9b82-53561a455f59",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "GcskRhAK7yAtkE01",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-waha.wahaTrigger",
      "typeVersion": 202411,
      "position": [
        -464,
        -368
      ],
      "id": "11e66c7b-07b0-49e6-8c80-e3482a0f8f71",
      "name": "WAHA Trigger",
      "webhookId": "253967de-ddba-4f1e-a7b9-e60cba45c5c4"
    },
    {
      "parameters": {
        "resource": "Chatting",
        "operation": "Send Text",
        "session": "={{ $('WAHA Trigger').item.json.session }}",
        "chatId": "={{ $('WAHA Trigger').item.json.payload.media.from }}",
        "reply_to": "=",
        "text": "={{ $('AI Agent').item.json.output }}",
        "requestOptions": {}
      },
      "type": "n8n-nodes-waha.WAHA",
      "typeVersion": 202411,
      "position": [
        1168,
        -32
      ],
      "id": "0e4129a2-09ea-43bb-9f1a-9db866467f68",
      "name": "Send a text message",
      "credentials": {
        "wahaApi": {
          "id": "9zRsx8TKsrweOboS",
          "name": "WAHA account"
        }
      }
    },
    {
      "parameters": {
        "resource": "Chatting",
        "operation": "Stop Typing",
        "session": "={{ $('WAHA Trigger').item.json.session }}",
        "chatId": "={{ $('WAHA Trigger').item.json.payload.from }}",
        "requestOptions": {}
      },
      "type": "n8n-nodes-waha.WAHA",
      "typeVersion": 202411,
      "position": [
        928,
        -32
      ],
      "id": "d91305a1-6f8f-436e-b82c-f96d64ef5c0e",
      "name": "Stop Typing",
      "credentials": {
        "wahaApi": {
          "id": "9zRsx8TKsrweOboS",
          "name": "WAHA account"
        }
      }
    },
    {
      "parameters": {
        "resource": "Chatting",
        "operation": "Send Seen",
        "participant": "=",
        "requestOptions": {}
      },
      "type": "n8n-nodes-waha.WAHA",
      "typeVersion": 202411,
      "position": [
        -48,
        -32
      ],
      "id": "79b681a4-c1fb-4f09-a5f3-7ddfe5f98d51",
      "name": "Send Seen",
      "credentials": {
        "wahaApi": {
          "id": "9zRsx8TKsrweOboS",
          "name": "WAHA account"
        }
      }
    },
    {
      "parameters": {
        "resource": "Chatting",
        "operation": "Start Typing",
        "session": "={{ $('WAHA Trigger').item.json.session }}",
        "chatId": "={{ $('WAHA Trigger').item.json.payload.media._data.from }}",
        "requestOptions": {}
      },
      "type": "n8n-nodes-waha.WAHA",
      "typeVersion": 202411,
      "position": [
        160,
        -32
      ],
      "id": "b91a2e82-719b-4cf6-af69-362518078388",
      "name": "Start Typing",
      "credentials": {
        "wahaApi": {
          "id": "9zRsx8TKsrweOboS",
          "name": "WAHA account"
        }
      }
    },
    {
      "parameters": {
        "amount": 7
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        720,
        -32
      ],
      "id": "cae9b0ba-9b7b-44b7-9ea3-dfe1bcaa7dea",
      "name": "Wait2",
      "webhookId": "6263cdaa-68b8-44a0-ab39-4dff883ea4af"
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "={\n  \"name\": \"Commande\",\n  \"description\": \"Outil de gestion du cycle de vie des commandes clients chez OSM Business. Il permet d‚Äôenregistrer, modifier ou annuler une commande. Champs requis : productId, actionType (enregistrement, modification, annulation), customerName, modificationDetails, reason. L‚Äôagent doit toujours demander une confirmation avant d‚Äôex√©cuter l‚Äôaction, puis confirmer √† l‚Äôutilisateur le succ√®s de l‚Äôop√©ration une fois r√©alis√©e.\"\n}\n",
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU",
          "mode": "list",
          "cachedResultName": "OSM BUSINESS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 982683136,
          "mode": "list",
          "cachedResultName": "Commande",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU/edit#gid=982683136"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "ID": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('ID__using_to_match_', ``, 'string') }}",
            "Date": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Date', ``, 'string') }}",
            "Adresse de livraison": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Adresse_de_livraison', ``, 'string') }}",
            "Nom ": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Nom_', ``, 'string') }}",
            "Contact": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Contact', ``, 'string') }}",
            "Detail_commande": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Detail_commande', ``, 'string') }}",
            "Prix_total": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prix_total', ``, 'string') }}"
          },
          "matchingColumns": [
            "ID"
          ],
          "schema": [
            {
              "id": "ID",
              "displayName": "ID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Nom ",
              "displayName": "Nom ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Contact",
              "displayName": "Contact",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Adresse de livraison",
              "displayName": "Adresse de livraison",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Detail_commande",
              "displayName": "Detail_commande",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Prix_total",
              "displayName": "Prix_total",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "cellFormat": "RAW"
        }
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        752,
        240
      ],
      "id": "32324e31-1d3a-4e42-81ac-40b58d1c66d5",
      "name": "Commande",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "KfenOzqIBushaAiR",
          "name": "Botbj"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "={\n  \"name\": \"Catalogue1\",\n  \"description\": \"Base de donn√©es des produits √©lectroniques disponibles chez OSM Business, √† l‚Äôexception des ordinateurs. Elle contient les fiches compl√®tes des smartphones, tablettes, accessoires, et autres articles. Chaque fiche inclut : le nom du produit, la cat√©gorie, le prix unitaire, et une image si disponible. Utilise cet outil pour pr√©senter, recommander ou comparer ces produits en fonction des besoins du client.\"\n}\n",
        "documentId": {
          "__rl": true,
          "value": "13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU",
          "mode": "list",
          "cachedResultName": "OSM BUSINESS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1149727683,
          "mode": "list",
          "cachedResultName": "Catalogue1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU/edit#gid=1149727683"
        },
        "combineFilters": "OR",
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        464,
        240
      ],
      "id": "1afe770f-53ad-4ff8-919e-774606135307",
      "name": "Catalogue1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "KfenOzqIBushaAiR",
          "name": "Botbj"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "={\n  \"name\": \"Catalogue2\",\n  \"description\": \"Base de donn√©es d√©di√©e exclusivement aux ordinateurs vendus par OSM Business. Chaque entr√©e contient : nom du mod√®le,la marque, sp√©cifications techniques (RAM, processeur, stockage, etc.), prix, l'√©tat et image (si disponible). Utilise cet outil pour r√©pondre aux questions sur les ordinateurs ou recommander un mod√®le adapt√© aux besoins du client.\"\n}\n",
        "documentId": {
          "__rl": true,
          "value": "13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU",
          "mode": "list",
          "cachedResultName": "OSM BUSINESS",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 175018694,
          "mode": "list",
          "cachedResultName": "Catalogue2",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/13sn4d3gUYemSV5az3itbpJghfWZmmcdtiTBTrG_G1hU/edit#gid=175018694"
        },
        "combineFilters": "OR",
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        608,
        240
      ],
      "id": "9220ac0c-6a72-4c03-a46a-6cc5d1ecc6ae",
      "name": "Catalogue2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "KfenOzqIBushaAiR",
          "name": "Botbj"
        }
      }
    }
  ],
  "pinData": {},
  "repo_name": "n8n-back-up",
  "repo_owner": "BotBj",
  "repo_path": "Archive/",
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "createdAt": "2025-09-28T07:30:05.282Z",
      "updatedAt": "2025-09-28T07:30:05.282Z",
      "role": "workflow:owner",
      "workflowId": "0VJzojlSjluDa6sv",
      "projectId": "rtwT9HNaRzX30hVn"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 1,
  "updatedAt": "2025-09-28T11:36:08.000Z",
  "versionId": "0997307a-d8a3-45da-971f-b20e48336e63"
}